{{#if @project}}
  <div class="c-folder__title">
    {{#if @project.isCompleted}}
      <div class="c-checkbox c-checkbox--big c-checkbox--project is-checked" title="Mark project as incomplete" {{action @uncompleteProject}}>
        {{svg-jar "checkbox-mark" class="c-checkbox__icon" }}
      </div>
    {{else}}
      <div class="c-checkbox c-checkbox--pie c-checkbox--big" title="Mark project as complete" {{action @completeProject}}>
        {{progress-pie progress=@project.progress}}
      </div>
    {{/if}}

    {{text-input
      class="c-folder__title-input js-title-input"
      placeholder=this.titleInputPlaceholder
      value=@project.name
      autoresize=true
      max-width=400
      update=(action @updateProjectName)
      enter=(action "blurTitleInput")
      escape-press=(action "blurTitleInput")
    }}

    {{#basic-dropdown
      class="c-dropdown"
      horizontalPosition="center"
      verticalPosition="below"
      as |dropdown|
    }}
      {{#dropdown.trigger class="c-dropdown__trigger c-folder__dropdown-trigger"}}
        {{svg-jar "more" class="c-dropdown__trigger-icon c-folder__dropdown-trigger-icon"}}
      {{/dropdown.trigger}}

      {{#dropdown.content class="c-dropdown__content"}}
        <div class="c-dropdown__content-inner">
          <div class="c-dropdown__section">
            {{#if @project.isCompleted}}
              <div class="c-dropdown__item" {{action (queue dropdown.actions.close @uncompleteProject)}}>
                {{svg-jar "project" class="c-dropdown__item-icon"}}
                <div class="c-dropdown__item-text">Mark project as incomplete</div>
              </div>
            {{else}}
              <div class="c-dropdown__item" {{action (queue dropdown.actions.close @completeProject)}}>
                {{svg-jar "complete-project" class="c-dropdown__item-icon"}}
                <div class="c-dropdown__item-text">Complete project</div>
              </div>
            {{/if}}

            {{#if @project.isDeleted}}
              <div class="c-dropdown__item" {{action (queue dropdown.actions.close @undeleteProject)}}>
                {{svg-jar "redo" class="c-dropdown__item-icon"}}
                <div class="c-dropdown__item-text">Put back deleted project</div>
              </div>
            {{else}}
              <div class="c-dropdown__item" {{action (queue dropdown.actions.close @deleteProject)}}>
                {{svg-jar "delete2" class="c-dropdown__item-icon"}}
                <div class="c-dropdown__item-text">Delete project</div>
              </div>
            {{/if}}
          </div>
        </div>
      {{/dropdown.content}}
    {{/basic-dropdown}}
  </div>
{{else}}
  <div class="c-folder__title">
    {{svg-jar
      @folder
      class=(concat "c-folder__icon c-folder__icon--" @folder)
    }}

    <div class="c-folder__title-text">{{@folder}}</div>
  </div>
{{/if}}

{{#animated-if hasContent use=fade duration=200}}
  {{yield (action "selectBetween")}}
{{else}}
  {{list-placeholder folder=@folder}}
{{/animated-if}}
